---
const currentPath = Astro.url;
const navLinks = [
    { href: '', label: 'Home' },
    { href: '/about/', label: 'About Me' },
    { href: '/contact/', label: 'Contact' },
    { href: '/work/', label: 'Work' }
].map(link => ({
    url: new URL(import.meta.env.BASE_URL + link.href, Astro.url.origin),
    label: link.label,
}));

const isRouteActive = (url: URL) => {
    // console.debug("Current path is", currentPath, "and url is", url);
    return url.href === currentPath.href;
}
---

<aside class="h-auto md:h-screen w-full md:w-64 flex flex-col justify-between bg-white p-6">
    <div class="space-y-6">
        <!-- Logo -->
        <div class="text-2xl font-bold">
            Marit van der Loos
        </div>

        <!-- Navigation Links -->
        <nav class="space-y-4">
            {navLinks.map(link => (
                <a 
                    href={link.url.pathname} 
                    class={`block hover:text-blue-600 transition-colors ${isRouteActive(link.url) ? 'text-blue-600' : ''}`}
                >
                    {link.label}
                </a>
            ))}
        </nav>
    </div>

    <!-- Footer -->
    <footer class="hidden md:block text-sm text-gray-500">
        <p>Â© {new Date().getFullYear()} Marit van der Loos</p>
    </footer>
</aside>
